{% extends "base.html" %}
{% block start %}

<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
  <form class="col-lg-6 col-md-8 col-12 mx-auto p-4 shadow-lg rounded-4" method="POST" enctype="multipart/form-data" 
        style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2);">
    {% csrf_token %}
    <div class="text-center mb-4">
      <h2 class="fw-bold" style="color: #ff6b6b;">
        <i class="fas fa-edit me-2"></i>Update Recipe
      </h2>
      <hr style="border-top: 2px solid #ff9a3c; width: 50px; margin: 0 auto;">
    </div>

    <div class="mb-4">
      <label class="form-label fw-semibold">Recipe Name</label>
      <div class="input-group">
        <span class="input-group-text bg-transparent"><i class="fas fa-utensils" style="color: #ff9a3c;"></i></span>
        <input name="recipe_name" value="{{recipe.recipe_name}}" type="text" class="form-control border-start-0" required>
      </div>
    </div>

    <div class="mb-4">
      <label class="form-label fw-semibold">Description</label>
      <div class="input-group">
        <span class="input-group-text bg-transparent align-items-start pt-2">
          <i class="fas fa-align-left" style="color: #ff9a3c;"></i>
        </span>
        <textarea class="form-control border-start-0" name="recipe_desc" rows="4" required>{{recipe.recipe_desc}}</textarea>
      </div>
    </div>

    <div class="mb-4">
      <label class="form-label fw-semibold">Recipe Image</label>
      <div class="input-group mb-2">
        <span class="input-group-text bg-transparent"><i class="fas fa-image" style="color: #ff9a3c;"></i></span>
        <input name="recipe_img" type="file" class="form-control border-start-0" accept="image/*">
      </div>
      {% if recipe.recipe_img %}
      <div class="d-flex align-items-center">
        <span class="badge bg-light text-dark me-2">Current Image:</span>
        <img src="/media/{{recipe.recipe_img}}" class="img-thumbnail rounded-3" style="height: 50px; width: 50px; object-fit: cover;">
      </div>
      {% endif %}
    </div>

    <div class="d-flex justify-content-between mt-4">
      <a href="/" class="btn btn-outline-secondary rounded-pill px-4">
        <i class="fas fa-arrow-left me-2"></i>Cancel
      </a>
      <button type="submit" class="btn rounded-pill px-4 fw-bold" 
              style="background: linear-gradient(45deg, #ff9a3c, #ff6b6b); color: white; border: none;">
        <i class="fas fa-save me-2"></i>Update Recipe
      </button>
    </div>
  </form>
</div>

<style>
  .form-control:focus, .form-select:focus {
    border-color: #ff9a3c;
    box-shadow: 0 0 0 0.25rem rgba(255, 154, 60, 0.25);
  }
  
  .img-thumbnail {
    transition: transform 0.3s ease;
  }
  
  .img-thumbnail:hover {
    transform: scale(1.1);
  }
</style>

{% endblock %}